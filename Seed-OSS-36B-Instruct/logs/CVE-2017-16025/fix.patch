--- a/lib/socket.js
+++ b/lib/socket.js
@@ -539,7 +539,11 @@
 
     this._listener._connection.states.parse(cookies, (ignoreErr, state, failed) => {
 
-        const auth = state[config.cookie];
+        if (ignoreErr) {
+            return;
+        }
+
+        const auth = state && state[config.cookie];
         if (auth) {
             this.auth._error = this._setCredentials(auth.credentials, auth.artifacts);
         }

