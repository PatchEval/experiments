[PoC RESULT]: True
[PoC MSG]:
============================== Run PoC ==============================
------------------------------ Standard Output ------------------------------
<empty>
------------------------------ Standard Error ------------------------------
..Couldn't write token to cache at: /tmp/tmpls518_4c/intermediate_file_component/cache.json
.
----------------------------------------------------------------------
Ran 3 tests in 0.001s

OK

------------------------------ Finish Evaluation ------------------------------


[UnitTest RESULT]: True
[UnitTest MSG]:
 ============================== Run Unit Test ==============================
------------------------------ Standard Output ------------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.23, pytest-8.0.0, pluggy-1.6.0 -- /workspace/PoC_env/CVE-2025-27154/bin/python
cachedir: .pytest_cache
rootdir: /workspace/spotipy
collecting ... collected 36 items / 1 deselected / 35 selected

tests/unit/test_oauth.py::OAuthCacheTest::test_badly_scoped_token_bails PASSED [  2%]
tests/unit/test_oauth.py::OAuthCacheTest::test_cache_handler PASSED      [  5%]
tests/unit/test_oauth.py::OAuthCacheTest::test_expired_token_refreshes PASSED [  8%]
tests/unit/test_oauth.py::OAuthCacheTest::test_gets_from_cache_path PASSED [ 11%]
tests/unit/test_oauth.py::OAuthCacheTest::test_saves_to_cache_path PASSED [ 14%]
tests/unit/test_oauth.py::OAuthCacheTest::test_saves_to_cache_path_legacy PASSED [ 17%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthorizeUrl::test_get_authorize_url_does_not_show_dialog_by_default PASSED [ 20%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthorizeUrl::test_get_authorize_url_doesnt_pass_state_by_default PASSED [ 22%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthorizeUrl::test_get_authorize_url_passes_state_from_constructor PASSED [ 25%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthorizeUrl::test_get_authorize_url_passes_state_from_func_call PASSED [ 28%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthorizeUrl::test_get_authorize_url_shows_dialog_when_requested PASSED [ 31%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthResponseInteractive::test_get_auth_response_with_consistent_state PASSED [ 34%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthResponseInteractive::test_get_auth_response_with_inconsistent_state PASSED [ 37%]
tests/unit/test_oauth.py::TestSpotifyOAuthGetAuthResponseInteractive::test_get_auth_response_without_state PASSED [ 40%]
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_badly_scoped_token_bails PASSED [ 42%]
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_expired_token_returns_none PASSED [ 45%]
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_gets_from_cache_path PASSED [ 48%]
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_saves_to_cache_path PASSED [ 51%]
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_saves_to_cache_path_legacy PASSED [ 54%]
tests/unit/test_oauth.py::TestSpotifyImplicitGrant::test_get_authorize_url_does_not_show_dialog_by_default PASSED [ 57%]
tests/unit/test_oauth.py::TestSpotifyImplicitGrant::test_get_authorize_url_doesnt_pass_state_by_default PASSED [ 60%]
tests/unit/test_oauth.py::TestSpotifyImplicitGrant::test_get_authorize_url_passes_state_from_constructor PASSED [ 62%]
tests/unit/test_oauth.py::TestSpotifyImplicitGrant::test_get_authorize_url_passes_state_from_func_call PASSED [ 65%]
tests/unit/test_oauth.py::TestSpotifyImplicitGrant::test_get_authorize_url_shows_dialog_when_requested PASSED [ 68%]
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_badly_scoped_token_bails PASSED [ 71%]
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_expired_token_refreshes PASSED [ 74%]
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_gets_from_cache_path PASSED [ 77%]
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_saves_to_cache_path PASSED [ 80%]
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_saves_to_cache_path_legacy PASSED [ 82%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_code_verifier_and_code_challenge_are_correct PASSED [ 85%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_generate_code_challenge_for_pkce PASSED [ 88%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_generate_code_verifier_for_pkce PASSED [ 91%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_get_authorize_url_doesnt_pass_state_by_default PASSED [ 94%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_get_authorize_url_passes_state_from_constructor PASSED [ 97%]
tests/unit/test_oauth.py::TestSpotifyPKCE::test_get_authorize_url_passes_state_from_func_call PASSED [100%]

=============================== warnings summary ===============================
tests/unit/test_oauth.py::OAuthCacheTest::test_badly_scoped_token_bails
tests/unit/test_oauth.py::OAuthCacheTest::test_expired_token_refreshes
tests/unit/test_oauth.py::OAuthCacheTest::test_gets_from_cache_path
tests/unit/test_oauth.py::OAuthCacheTest::test_saves_to_cache_path
tests/unit/test_oauth.py::OAuthCacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:305: DeprecationWarning: Specifying cache_path or username as arguments to SpotifyOAuth will be deprecated. Instead, please create a CacheFileHandler instance with the desired cache_path and username and pass it to SpotifyOAuth as the cache_handler. For example:
  
  	from spotipy.oauth2 import CacheFileHandler
  	handler = CacheFileHandler(cache_path=cache_path, username=username)
  	sp = spotipy.SpotifyOAuth(client_id, client_secret, redirect_uri, cache_handler=handler)
    warnings.warn("Specifying cache_path or username as arguments to SpotifyOAuth " +

tests/unit/test_oauth.py::OAuthCacheTest::test_gets_from_cache_path
  /workspace/spotipy/spotipy/oauth2.py:580: DeprecationWarning: Calling get_cached_token directly on the SpotifyOAuth object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's get_cached_token method. You can replace:
  	sp.get_cached_token()
  
  With:
  	sp.validate_token(sp.cache_handler.get_cached_token())
    warnings.warn("Calling get_cached_token directly on the SpotifyOAuth object will be " +

tests/unit/test_oauth.py::OAuthCacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:590: DeprecationWarning: Calling _save_token_info directly on the SpotifyOAuth object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's save_token_to_cache method.
    warnings.warn("Calling _save_token_info directly on the SpotifyOAuth object will be " +

tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_badly_scoped_token_bails
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_expired_token_returns_none
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_gets_from_cache_path
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_saves_to_cache_path
tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:1044: DeprecationWarning: Specifying cache_path or username as arguments to SpotifyImplicitGrant will be deprecated. Instead, please create a CacheFileHandler instance with the desired cache_path and username and pass it to SpotifyImplicitGrant as the cache_handler. For example:
  
  	from spotipy.oauth2 import CacheFileHandler
  	handler = CacheFileHandler(cache_path=cache_path, username=username)
  	sp = spotipy.SpotifyImplicitGrant(client_id, client_secret, redirect_uri, cache_handler=handler)
    warnings.warn("Specifying cache_path or username as arguments to " +

tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_gets_from_cache_path
  /workspace/spotipy/spotipy/oauth2.py:1206: DeprecationWarning: Calling get_cached_token directly on the SpotifyImplicitGrant object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's get_cached_token method. You can replace:
  	sp.get_cached_token()
  
  With:
  	sp.validate_token(sp.cache_handler.get_cached_token())
    warnings.warn("Calling get_cached_token directly on the SpotifyImplicitGrant " +

tests/unit/test_oauth.py::ImplicitGrantCacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:1217: DeprecationWarning: Calling _save_token_info directly on the SpotifyImplicitGrant object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's save_token_to_cache method.
    warnings.warn("Calling _save_token_info directly on the SpotifyImplicitGrant " +

tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_badly_scoped_token_bails
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_expired_token_refreshes
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_gets_from_cache_path
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_saves_to_cache_path
tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:658: DeprecationWarning: Specifying cache_path or username as arguments to SpotifyPKCE will be deprecated. Instead, please create a CacheFileHandler instance with the desired cache_path and username and pass it to SpotifyPKCE as the cache_handler. For example:
  
  	from spotipy.oauth2 import CacheFileHandler
  	handler = CacheFileHandler(cache_path=cache_path, username=username)
  	sp = spotipy.SpotifyImplicitGrant(client_id, client_secret, redirect_uri, cache_handler=handler)
    warnings.warn("Specifying cache_path or username as arguments to SpotifyPKCE " +

tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_gets_from_cache_path
  /workspace/spotipy/spotipy/oauth2.py:949: DeprecationWarning: Calling get_cached_token directly on the SpotifyPKCE object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's get_cached_token method. You can replace:
  	sp.get_cached_token()
  
  With:
  	sp.validate_token(sp.cache_handler.get_cached_token())
    warnings.warn("Calling get_cached_token directly on the SpotifyPKCE object will be " +

tests/unit/test_oauth.py::SpotifyPKCECacheTest::test_saves_to_cache_path_legacy
  /workspace/spotipy/spotipy/oauth2.py:959: DeprecationWarning: Calling _save_token_info directly on the SpotifyOAuth object will be deprecated. Instead, please specify a CacheFileHandler instance as the cache_handler in SpotifyOAuth and use the CacheFileHandler's save_token_to_cache method.
    warnings.warn("Calling _save_token_info directly on the SpotifyOAuth object will be " +

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================ 35 passed, 1 deselected, 21 warnings in 0.23s =================

------------------------------ Finish Evaluation ------------------------------


[Validation TYPE]: Repair Success