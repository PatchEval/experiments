--- a/internal/db/repo_editor.go
+++ b/internal/db/repo_editor.go
@@ -466,11 +466,13 @@
 // isRepositoryGitPath returns true if given path is or resides inside ".git"
 // path of the repository.
 func isRepositoryGitPath(path string) bool {
-	return strings.HasSuffix(path, ".git") ||
-		strings.Contains(path, ".git"+string(os.PathSeparator)) ||
-		// Windows treats ".git." the same as ".git"
-		strings.HasSuffix(path, ".git.") ||
-		strings.Contains(path, ".git."+string(os.PathSeparator))
+	cleanPath := filepath.Clean(path)
+	// Absolute paths are not part of the repository
+	if filepath.IsAbs(cleanPath) {
+		return false
+	}
+	// Check if path is exactly ".git" or starts with ".git/" (or ".git\" on Windows)
+	return cleanPath == ".git" || strings.HasPrefix(cleanPath, ".git"+string(os.PathSeparator))
 }
 
 func (repo *Repository) UploadRepoFiles(doer *User, opts UploadRepoFileOptions) error {

