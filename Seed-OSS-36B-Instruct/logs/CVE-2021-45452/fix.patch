--- a/django/core/files/storage.py
+++ b/django/core/files/storage.py
@@ -50,6 +50,7 @@
         if not hasattr(content, 'chunks'):
             content = File(content, name)
 
+        name = self.generate_filename(name)
         name = self.get_available_name(name, max_length=max_length)
         return self._save(name, content)
 

