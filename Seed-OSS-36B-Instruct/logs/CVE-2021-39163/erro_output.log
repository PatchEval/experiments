[PoC RESULT]: False
[PoC MSG]:
============================== Run PoC ==============================
------------------------------ Standard Output ------------------------------
============================= test session starts ==============================
platform linux -- Python 3.8.20, pytest-8.3.5, pluggy-1.5.0
rootdir: /workspace/synapse
configfile: pyproject.toml
collected 1 item

tests/rest/client/v2_alpha/test_groups.py F                              [100%]

=================================== FAILURES ===================================
_______________ GroupsTestCase.test_rooms_limited_by_visibility ________________

self = <tests.rest.client.v2_alpha.test_groups.GroupsTestCase testMethod=test_rooms_limited_by_visibility>

    @override_config({"enable_group_creation": True})
    def test_rooms_limited_by_visibility(self):
        group_id = "+spqr:test"
    
        # Alice creates a group
        channel = self.make_request("POST", "/create_group", {"localpart": "spqr"})
        self.assertEquals(channel.code, 200, msg=channel.text_body)
        self.assertEquals(channel.json_body, {"group_id": group_id})
    
        # Bob creates a private room
        room_id = self.helper.create_room_as(self.room_creator_user_id, is_public=False)
        self.helper.auth_user_id = self.room_creator_user_id
        self.helper.send_state(
            room_id, "m.room.name", {"name": "bob's secret room"}, tok=None
        )
        self.helper.auth_user_id = self.user_id
    
        # Alice adds the room to her group.
        channel = self.make_request(
            "PUT", f"/groups/{group_id}/admin/rooms/{room_id}", {}
        )
        self.assertEquals(channel.code, 200, msg=channel.text_body)
        self.assertEquals(channel.json_body, {})
    
        # Alice now tries to retrieve the room list of the space.
        channel = self.make_request("GET", f"/groups/{group_id}/rooms")
        self.assertEquals(channel.code, 200, msg=channel.text_body)
>       self.assertEquals(
            channel.json_body, {"chunk": [], "total_room_count_estimate": 0}
        )

tests/rest/client/v2_alpha/test_groups.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../PoC_env/CVE-2021-39163/lib/python3.8/site-packages/twisted/trial/_synctest.py:444: in assertEqual
    super().assertEqual(first, second, msg)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.rest.client.v2_alpha.test_groups.GroupsTestCase testMethod=test_rooms_limited_by_visibility>
msg = "{'chunk': [{'guest_can_join': True, 'is_public': Tru[169 chars]': 1} != {'chunk': [], 'total_room_count_estimate': 0}...                ^\n\n+ {'chunk': [], 'total_room_count_estimate': 0}\n? +++++++++++++                              ^\n"

    def fail(self, msg: Optional[object] = None) -> NoReturn:
        """
        Absolutely fail the test.  Do not pass go, do not collect $200.
    
        @param msg: the message that will be displayed as the reason for the
        failure
        """
>       raise self.failureException(msg)
E       twisted.trial.unittest.FailTest: {'chunk': [{'guest_can_join': True, 'is_public': Tru[169 chars]': 1} != {'chunk': [], 'total_room_count_estimate': 0}
E       - {'chunk': [{'guest_can_join': True,
E       -             'is_public': True,
E       -             'm.federate': True,
E       -             'name': "bob's secret room",
E       -             'num_joined_members': 1,
E       -             'room_id': '!OACAMHZREfkhzTXQeV:test',
E       -             'world_readable': False}],
E       -  'total_room_count_estimate': 1}
E       ?                               ^
E       
E       + {'chunk': [], 'total_room_count_estimate': 0}
E       ? +++++++++++++                              ^

../PoC_env/CVE-2021-39163/lib/python3.8/site-packages/twisted/trial/_synctest.py:381: FailTest
=========================== short test summary info ============================
FAILED tests/rest/client/v2_alpha/test_groups.py::GroupsTestCase::test_rooms_limited_by_visibility
======================== 1 failed, 30 warnings in 2.00s ========================

------------------------------ Finish Evaluation ------------------------------


[UnitTest RESULT]: None
[UnitTest MSG]:
 None

[Validation TYPE]: validation_fail